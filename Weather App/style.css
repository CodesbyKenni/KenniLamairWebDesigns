:root{
  --bg: #0f1220;
  --panel:#171a2b;
  --muted:#8a93b2;
  --text:#e9ecff;
  --accent:#7aa2ff;
  --good:#62d29d;
  --warn:#ffc86b;
  --bad:#ff6b8a;
  --ring: 0 0 0 3px rgba(122,162,255,.35);
  --radius: 14px;
}
*{box-sizing:border-box}
html,body{height:100%}
body {
  background: linear-gradient(to bottom right, #89f7fe, #66a6ff);
  color: #fff;
  font-family: 'Poppins', sans-serif;
  margin: 0;
  min-height: 100vh;
}
.app{
  width:min(960px, 100%);
  display:grid; gap:16px;
  grid-template-rows:auto auto 1fr;
}
header{
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  background:color-mix(in oklab, var(--panel) 92%, black 8%);
  border:1px solid #22263c; padding:12px; border-radius:var(--radius);
  position:sticky; top:0; z-index:3; backdrop-filter: blur(6px);
}
header h1{font-size:18px; margin:0 8px 0 0; letter-spacing:.3px;}
form{display:flex; gap:10px; flex:1; min-width:240px}
.field{position:relative; flex:1;}
.field input{
  width:100%; padding:12px 14px 12px 40px; border-radius:12px;
  border:1px solid #2a2f4a; background:#0f1327; color:var(--text);
  outline:none;
}
.field input:focus{box-shadow:var(--ring); border-color:#3a4370}
.field .icon{
  position:absolute; left:12px; top:50%; translate:0 -50%; opacity:.7;
}
button, .btn{
  border:1px solid #2a2f4a; background:#0f1327; color:var(--text);
  padding:12px 14px; border-radius:12px; cursor:pointer;
}
button:hover, .btn:hover{border-color:#3a4370}
.seg{
  display:inline-flex; background:#0d1020; border:1px solid #2a2f4a; border-radius:999px; padding:3px;
  gap:3px;
}
.seg button{
  border:none; background:transparent; padding:8px 12px; border-radius:999px; opacity:.8;
}
.seg button[aria-pressed="true"]{background:#1a1f3b; opacity:1; outline:1px solid #34406b}
.row{display:flex; gap:16px; flex-wrap:wrap}

/* Cards */
.card{
  background:color-mix(in oklab, var(--panel) 96%, black 4%);
  border:1px solid #22263c; border-radius:var(--radius); padding:16px;
}
.current{
  display:grid; gap:8px;
  grid-template-columns: 1fr auto;
  align-items:center;
}
.current .place{font-size:14px; color:var(--muted)}
.current .big{font-size:54px; font-weight:700; letter-spacing:-1px;}
.current .chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px; border:1px solid #2a2f4a; font-size:14px; background:#0f1327;
}
.stats{display:flex; gap:10px; flex-wrap:wrap; margin-top:8px}
.stat{padding:8px 10px; border:1px dashed #2a2f4a; border-radius:10px; font-size:14px; color:var(--muted)}

/* Forecast grid */
.forecast{
  display:grid; gap:10px; grid-template-columns: repeat(7, minmax(110px,1fr));
}
@media (max-width: 820px){
  .forecast{grid-template-columns: repeat(4, 1fr)}
}
@media (max-width: 540px){
  .current{grid-template-columns:1fr}
  .forecast{grid-template-columns: repeat(2, 1fr)}
  .current .big{font-size:44px}
}
.day{
  border:1px solid #22263c; border-radius:12px; padding:12px; text-align:center; background:#10142a;
}
.day .dt{font-size:13px; color:var(--muted)}
.day .wx{font-size:32px; margin:6px 0}
.day .hi{font-weight:600}
.day .lo{color:var(--muted)}

/* Helpers */
.inline{display:inline-flex; gap:8px; align-items:center}
.fade{opacity:.85}
.loading{display:none}
.loading.show{
  display:flex; position:fixed; inset:0; background:rgba(7,9,18,.55); backdrop-filter: blur(2px);
  align-items:center; justify-content:center; z-index:5;
}
.spinner{
  width:48px; height:48px; border-radius:50%;
  border:4px solid #2a2f4a; border-top-color: var(--accent); animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.sr-only{position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0}
.note{color:var(--muted); font-size:13px}
.bad{color:var(--bad)} .warn{color:var(--warn)} .good{color:var(--good)}